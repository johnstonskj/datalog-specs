<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Resolvers - Datalog Specifications</title>
        <!-- Custom HTML head -->
<link   rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css"
        integrity="sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs"
        crossorigin="anonymous">
<script defer
        src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"
        integrity="sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx"
        crossorigin="anonymous"></script>
<script defer
        src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js"
        integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR"
        crossorigin="anonymous"></script>

<script defer>
document.addEventListener("DOMContentLoaded", function() {
    renderMathInElement(document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "\\(", right: "\\)", display: false},
            {left: "$", right: "$", display: false},
            {left: "\\[", right: "\\]", display: true}
        ]
    });
});
</script>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../specs.css">
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../vnd_datalog_text/abstract.html"><strong aria-hidden="true">1.</strong> DATALOG-TEXT: Datalog Text Representation</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../vnd_datalog_text/introduction.html"><strong aria-hidden="true">1.1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/conformance.html"><strong aria-hidden="true">1.2.</strong> Conformance</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/basic_concepts.html"><strong aria-hidden="true">1.3.</strong> Basic Concepts</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/grammar.html"><strong aria-hidden="true">1.4.</strong> Datalog Text Grammar</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../vnd_datalog_text/grammar_program.html"><strong aria-hidden="true">1.4.1.</strong> Program</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/grammar_facts.html"><strong aria-hidden="true">1.4.2.</strong> Relations &amp; Facts</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/grammar_constants.html"><strong aria-hidden="true">1.4.3.</strong> Types &amp; Constants</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/grammar_rules.html"><strong aria-hidden="true">1.4.4.</strong> Rules</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/grammar_atoms.html"><strong aria-hidden="true">1.4.5.</strong> Atoms &amp; Terms</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/grammar_literals.html"><strong aria-hidden="true">1.4.6.</strong> Literals</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/grammar_queries.html"><strong aria-hidden="true">1.4.7.</strong> Queries</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/grammar_pi.html"><strong aria-hidden="true">1.4.8.</strong> Processing Instructions</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/grammar_comments.html"><strong aria-hidden="true">1.4.9.</strong> Comments</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/grammar_lexical.html"><strong aria-hidden="true">1.4.10.</strong> Terminal/Lexical</a></li></ol></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/resolvers.html" class="active"><strong aria-hidden="true">1.5.</strong> Resolvers</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/pragmas.html"><strong aria-hidden="true">1.6.</strong> Pragmas</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/errors.html"><strong aria-hidden="true">1.7.</strong> Errors</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/x_security.html"><strong aria-hidden="true">1.8.</strong> Security Considerations</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/x_international.html"><strong aria-hidden="true">1.9.</strong> Internationalization Considerations</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/x_ebnf.html"><strong aria-hidden="true">1.10.</strong> Appendix: EBNF</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/x_result_forms.html"><strong aria-hidden="true">1.11.</strong> Appendix: Result Formats</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/x_iana.html"><strong aria-hidden="true">1.12.</strong> Appendix: IANA Considerations</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/x_references.html"><strong aria-hidden="true">1.13.</strong> Appendix: References</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/z_errata.html"><strong aria-hidden="true">2.</strong> Datalog Text Representation Errata</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/z_translations.html"><strong aria-hidden="true">3.</strong> Datalog Text Representation Translations</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Datalog Specifications</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/johnstonskj/datalog-specs" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="resolvers"><a class="header" href="#resolvers">Resolvers</a></h1>
<p>Resolvers are used to download and parse content referenced from an initial
DATALOG-TEXT resource. In general these are datasets that are external to the
Datalog source and often in alternate representations. </p>
<h2 id="uri-references"><a class="header" href="#uri-references">URI References</a></h2>
<p>Relative URIs are resolved with base URIs as per <em>Uniform Resource Identifier
(URI): Generic Syntax</em> <span class="bibref
inline"><a href="x_references.html#RFC3986">RFC3986</a></span> using only the basic
algorithm in section 5.2. Neither Syntax-Based Normalization nor Scheme-Based
Normalization (described in sections 6.2.2 and 6.2.3 of RFC3986) are
performed.</p>
<p>The <a href="pragmas.html#pragma-base"><code>base</code> pragma</a> defines the Base URI used to
resolve relative URIs per RFC3986 § 5.1.1, “<em>Base URI Embedded in
Content</em>”. § 5.1.2, “<em>Base URI from the Encapsulating Entity</em>” defines
how the In-Scope Base URI may come from an encapsulating document, such as a
SOAP envelope with an <code>xml:base</code> directive or a mime multipart document with a
<code>Content-Location</code> header. The “<em>Retrieval URI</em>” identified in § 5.1.3, Base
“<em>URI from the Retrieval URI</em>”, is the URL from which a particular
DATALOG-TEXT resource was retrieved. If none of the above specifies the Base
URI, the default Base URI (§ 5.1.4, “<em>Default Base URI</em>”) is used.</p>
<p>In the case that multiple <code>base</code> pragmas exist, each replaces the previous value.</p>
<h3 id="content-negotiation"><a class="header" href="#content-negotiation">Content Negotiation</a></h3>
<p>This section applies to URI schemes, such as <code>http</code> and <code>https</code> that provide content negotiation.</p>
<p>The resolver MAY use a provided media type to construct an HTTP <code>Accept</code>
header (see <span class="bibref
inline"><a href="x_references.html#RFC7231">RFC7231</a></span> § 5.3.2) for URIs with <code>http</code> or <code>https</code> schemes, see <span class="bibref
inline"><a href="x_references.html#RFC2616">RFC2616</a>, § 14.1</span>.</p>
<p>In the following example no media type is provided.</p>
<pre><code class="language-datalog">.assert human(name: string).
.input human(uri=&quot;http://example.com/data/humans&quot;).
</code></pre>
<p>In this case the HTTP request contains a list of acceptable response types as
well as language and encoding preferences. In this case, not only does the
client accept CSV and TSV representations, it indicates its preference for CSV
over TSV.</p>
<pre><code class="language-http">GET /data/humans HTTP/1.1
Host: example.com
Accept: text/csv; q=0.8, text/tab-separated-values; q=0.4
Accept-Language: en-us
Accept-Encoding: gzip, deflate
</code></pre>
<p>While <code>Accept-Encoding</code> <span class="bibref
inline"><a href="x_references.html#RFC7231">RFC7231</a></span> § 5.3.4 and
<code>Accept-Language</code> <span class="bibref
inline"><a href="x_references.html#RFC7231">RFC7231</a></span> § 5.3.5 are RECOMMENDED, 
<code>Accept-Charset</code> <span class="bibref
inline"><a href="x_references.html#RFC7231">RFC7231</a></span> § 5.3.3 if present MAY only
take the value <code>UTF-8</code>. </p>
<h3 id="examples"><a class="header" href="#examples">Examples</a></h3>
<p>Given the following program, the input file is provided as an absolute URI and
can be fetched directly, the media type and parameters are also provided. </p>
<pre><code class="language-datalog">.assert human(name: string).
.input human(
    uri=&quot;http://example.com/data/humans.csv&quot;, 
    type=&quot;text/csv&quot;, 
    header=present).
</code></pre>
<p>The following is the resulting HTTP request.</p>
<pre><code class="language-http">GET /data/humans.csv HTTP/1.1
Host: example.com
Accept: text/csv;header=present
</code></pre>
<p>Given a relative URI, as shown below, the resolver requires a <em>base URI</em> to determine the absolute URI to fetch. An explicit base URI may be provided using the <code>base</code> pragma, or some other means such as processor command-line parameters, environment variables, or the current working directory of the host process<sup class="footnote-reference"><a href="#1">1</a></sup>.</p>
<pre><code class="language-datalog">.pragma base=&quot;https://example.com/datalog/&quot;.
.assert human(name: string).
.input human(uri=&quot;data/humans.csv&quot;, type=&quot;text/csv&quot;, header=present).
</code></pre>
<pre><code class="language-datalog">.assert human(name: string).
.input human(uri=&quot;data/humans.csv&quot;, type=&quot;text/csv&quot;, header=present).
</code></pre>
<h2 id="dataset-media-types"><a class="header" href="#dataset-media-types">Dataset Media Types</a></h2>
<p>The following media types are documented here, however only <code>text/csv</code> and <code>text/tab-separated-values</code> MUST be supported by a conforming DATALOG-TEXT processor.</p>
<table><thead><tr><th>Media Type</th><th>Short</th><th>Parameters</th><th>Conform</th><th>Expectations</th></tr></thead><tbody>
<tr><td>text/csv</td><td>csv</td><td>header</td><td>MUST</td><td>See <span class="bibref inline"><a href="x_references.html#RFC4180">RFC4180</a></span></td></tr>
<tr><td>text/tab-separated-values</td><td>tsv</td><td>N/A</td><td>MUST</td><td>See <span class="bibref inline"><a href="x_references.html#IANA-TSV">IANA-TSV</a></span></td></tr>
<tr><td>application/json</td><td>json</td><td>N/A</td><td>N/A</td><td>See <span class="bibref inline"><a href="x_references.html#RFC4627">RFC4627</a></span></td></tr>
<tr><td>application/vnd.sqlite3</td><td>sqlite3</td><td>N/A</td><td>N/A</td><td>See <span class="bibref inline"><a href="x_references.html#IANA-SQLITE3">IANA-SQLITE3</a></span></td></tr>
<tr><td>text/vnd.datalog</td><td>datalog</td><td>N/A</td><td>N/A</td><td>Used on output only to write DATALOG-TEXT from an in-memory representation</td></tr>
</tbody></table>
<h3 id="common-parameters"><a class="header" href="#common-parameters">Common Parameters</a></h3>
<ul>
<li><code>uri</code> – this MUST BE interpreted as a URI <span class="bibref inline"><a href="x_references.html#RFC3986">RFC3986</a></span> and handled as per <a href="#uri-references">§ URI References</a> above.</li>
<li><code>type</code> – this string value MUST BE either the type name and subtype name of a supported media type (i.e. <code>text/csv</code>) or one of the supported media type short form identifiers described in the <a href="resolvers.html#dataset-media-types">§ Dataset Media Types</a> table.</li>
</ul>
<h3 id="common-errors"><a class="header" href="#common-errors">Common Errors</a></h3>
<ul>
<li><a href="errors.html#ERR_IO_INSTRUCTION_PARAMETER"><code>ERR_IO_INSTRUCTION_PARAMETER</code></a> –
one of the specified parameters was incorrectly specified.</li>
</ul>
<h3 id="textcsv-parameters"><a class="header" href="#textcsv-parameters">text/csv Parameters</a></h3>
<ul>
<li><code>header</code> – one of the following values <code>{present, absent}</code> from <span class="bibref inline"><a href="x_references.html#RFC4180">RFC4180</a></span>.</li>
<li><code>columns</code> – a comma-separated list of either positive integers (the first
column is column <code>1</code>)) or inclusive range specifiers of the form <code>[min:max]</code>
where min and max are optional positive integers. If min is not present it
is assumed to be the initial attribute index of <code>1</code>, if max is not present
it is assumed to the last attribute index $\small j$ in
$\small(\alpha_1,\ldots,\alpha_j)$.</li>
</ul>
<h4 id="errors"><a class="header" href="#errors">Errors</a></h4>
<ul>
<li><a href="errors.html#ERR_INVALID_ATTRIBUTE_INDEX"><code>ERR_INVALID_ATTRIBUTE_INDEX</code></a> – a
value in the <code>columns</code> parameter is not a valid attribute index in this relation.</li>
</ul>
<h4 id="example"><a class="header" href="#example">Example</a></h4>
<pre><code class="language-datalog">.assert human(name: string).
.input human( 
    uri=&quot;http://example.com/data/humans.csv&quot;, 
    type=&quot;text/csv&quot;, 
    columns=&quot;2&quot;,
    header=present).
</code></pre>
<h3 id="texttsv-parameters"><a class="header" href="#texttsv-parameters">text/tsv Parameters</a></h3>
<ul>
<li><code>columns</code> – see <a href="#textcsv-parameters">§ Text/CSV Parameters</a>.</li>
</ul>
<p>According to <span class="bibref
inline"><a href="x_references.html#IANA-TSV">IANA-TSV</a></span> in the <code>tsv</code> production
(copied below) the name line MUST BE present and so no <code>header</code> parameter is
exposed for this type. </p>
<pre><code class="language-ebnf">tsv      ::= nameline record+ ;
</code></pre>
<h4 id="example-1"><a class="header" href="#example-1">Example</a></h4>
<pre><code class="language-datalog">.assert car(make: string, model: string, year: integer).
.input car( 
    uri=&quot;http://example.com/data/cars.tsv&quot;, 
    type=&quot;text/tab-separated-values&quot;, 
    columns=&quot;[1:2],4&quot;).
</code></pre>
<h3 id="applicationjson-parameters"><a class="header" href="#applicationjson-parameters">application/json Parameters</a></h3>
<p><em>This section is non-normative.</em></p>
<p>The JSON data interchange syntax <span class="bibref
inline"><a href="x_references.html#ECMA-JSON">ECMA-JSON</a></span> is a well-defined and
simple interchange format and can be used to represent datasets, given the
following structural restrictions.</p>
<ol>
<li>The JSON root value MUST be an array.</li>
<li>Each member of this array MUST be <em>either</em>:
<ol>
<li>An array where each value being MUST be an atomic value (string, number,
boolean).</li>
<li>An object where each member value MUST be an atomic value (string, number,
boolean).</li>
</ol>
</li>
<li>All members of this array MUST be homogenous.</li>
</ol>
<p>Additional, more complex structures MAY be supported by a DATALOG-TEXT
processor.</p>
<ul>
<li><code>columns</code> – this MUST only be used when each member of the JSON array is
also an array. See <a href="#textcsv-parameters">§ Text/CSV Parameters</a>.</li>
<li><code>members</code> – this MUST only be used when each member of the JSON array is
an object and is a comma-separated list of member names.</li>
</ul>
<h4 id="errors-1"><a class="header" href="#errors-1">Errors</a></h4>
<ul>
<li><a href="errors.html#ERR_INVALID_ATTRIBUTE_LABEL"><code>ERR_INVALID_ATTRIBUTE_LABEL</code></a> – a
value in the <code>members</code> parameter is not a valid attribute label in this relation.</li>
</ul>
<h4 id="examples-1"><a class="header" href="#examples-1">Examples</a></h4>
<p>Given the following, array-shaped, JSON value.</p>
<pre><code class="language-json">[
  [&quot;ford&quot;, &quot;fiesta&quot;, &quot;uk&quot;, 2010],
  [&quot;ford&quot;, &quot;escort&quot;, &quot;uk&quot;, 2008]
]
</code></pre>
<p>The input processing instruction for the relation <code>car</code> specifies columns 1, 2, and
4 to skip the unused third column. By default an array-shaped input will match
by position and there MUST be the same number of values in each array as there are
attributes in the relation.</p>
<pre><code class="language-datalog">.assert car(make: string, model: string, year: integer).
.input car( 
    uri=&quot;http://example.com/data/cars.json&quot;,
    type=&quot;application/vnd.sqlite3&quot;,
    columns=&quot;1,2,4&quot;).
</code></pre>
<p>Given the following, object-shaped, JSON value.</p>
<pre><code class="language-json">[
  {&quot;make&quot;: &quot;ford&quot;, &quot;model&quot;: &quot;fiesta&quot;, &quot;geo&quot;: &quot;uk&quot;, &quot;year&quot;: 2010},
  {&quot;make&quot;: &quot;ford&quot;, &quot;model&quot;: &quot;escort&quot;, &quot;geo&quot;: &quot;uk&quot;, &quot;year&quot;: 2008}
]
</code></pre>
<p>The input processing instruction for the relation <code>car</code> specifies the members
make, model, and year but not the geo value. By default an object-shaped input
is matched by label <strong>IFF</strong> all attributes in the relation are named, or else by
position. If matched by label the object may have more members than the
relation has attributes; if matched by position the length of object and
relation MUST be equal.</p>
<pre><code class="language-datalog">.assert car(make: string, model: string, year: integer).
.input car( 
    uri=&quot;http://example.com/data/cars.json&quot;,
    type=&quot;application/vnd.sqlite3&quot;,
    members=&quot;make,model,year&quot;).
</code></pre>
<h3 id="applicationvndsqlite3-parameters"><a class="header" href="#applicationvndsqlite3-parameters">application/vnd.sqlite3 Parameters</a></h3>
<p><em>This section is non-normative.</em></p>
<ul>
<li><code>table</code> – the name of the table in the database to read from, or write to. If missing the processor MAY use the relation name as the table name, or MAY signal the error <a href="errors.html#ERR_IO_INSTRUCTION_PARAMETER"><code>ERR_IO_INSTRUCTION_PARAMETER</code></a>.</li>
<li><code>columns</code> – a comma-separated list of column names in the table, these are matched positionally with relation attributes. If missing the processor MAY use the attribute names as column names, or MAY signal the error <a href="errors.html#ERR_IO_INSTRUCTION_PARAMETER"><code>ERR_IO_INSTRUCTION_PARAMETER</code></a>.</li>
</ul>
<p>According to <span class="bibref inline"><a href="x_references.html#SQLITE3-URI">SQLITE3-URI</a></span> the URI specified for the database location MUST have the scheme <code>file</code> <span class="bibref inline"><a href="x_references.html#RFC8089">RFC8089</a></span>.</p>
<p>A conforming DATALOG-TEXT processor MAY choose to validate these parameters at parse time or MAY wait until the actual input/output operation is required. In either case if the processor determines that the table or columns specified in these parameters does not match the schema of the relation the processor MUST signal the error <a href="errors.html#ERR_IO_INSTRUCTION_PARAMETER"><code>ERR_IO_INSTRUCTION_PARAMETER</code></a>.</p>
<h4 id="example-2"><a class="header" href="#example-2">Example</a></h4>
<p>In the following the intensional relation <code>mortal</code> is output to a SQLite database.</p>
<pre><code class="language-datalog">.infer mortal(name: string).
.output mortal( 
    uri=&quot;file:///var/db/results.sql?cache=private&amp;mode=rwc&quot;, 
    type=&quot;application/vnd.sqlite3&quot;,
    table=&quot;mortals&quot;,
    columns=&quot;short_name&quot;).
</code></pre>
<h3 id="textdatalog"><a class="header" href="#textdatalog">Text/Datalog</a></h3>
<p><em>This section is non-normative.</em></p>
<p>In either the input or output cases the representation is a list of facts that
corresponds to the grammar production <code>assertion</code>, see <a href="grammar_facts.html">§ Relations &amp; Facts</a>.</p>
<p>&nbsp;</p>
<hr />
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>See The Open Group <a href="https://pubs.opengroup.org/onlinepubs/007904975/functions/getcwd.html">man page</a> for the <code>getcwd()</code> function.</p>
</div>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../vnd_datalog_text/grammar_lexical.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../vnd_datalog_text/pragmas.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../vnd_datalog_text/grammar_lexical.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../vnd_datalog_text/pragmas.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src="../datalog.js"></script>
        <script type="text/javascript" src="../specs.js"></script>
    </body>
</html>
