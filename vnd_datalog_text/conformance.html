<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Conformance - Datalog Specifications</title>
        <!-- Custom HTML head -->
<link   rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css"
        integrity="sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs"
        crossorigin="anonymous">
<script defer
        src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"
        integrity="sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx"
        crossorigin="anonymous"></script>
<script defer
        src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js"
        integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR"
        crossorigin="anonymous"></script>

<script defer>
document.addEventListener("DOMContentLoaded", function() {
    renderMathInElement(document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "\\(", right: "\\)", display: false},
            {left: "$", right: "$", display: false},
            {left: "\\[", right: "\\]", display: true}
        ]
    });
});
</script>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../specs.css">
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../vnd_datalog_text/abstract.html"><strong aria-hidden="true">1.</strong> DATALOG-TEXT: Datalog Text Representation</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../vnd_datalog_text/introduction.html"><strong aria-hidden="true">1.1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/conformance.html" class="active"><strong aria-hidden="true">1.2.</strong> Conformance</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/basic_concepts.html"><strong aria-hidden="true">1.3.</strong> Basic Concepts</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/grammar.html"><strong aria-hidden="true">1.4.</strong> Datalog Text Grammar</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../vnd_datalog_text/grammar_program.html"><strong aria-hidden="true">1.4.1.</strong> Program</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/grammar_facts.html"><strong aria-hidden="true">1.4.2.</strong> Relations & Facts</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/grammar_constants.html"><strong aria-hidden="true">1.4.3.</strong> Types & Constants</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/grammar_rules.html"><strong aria-hidden="true">1.4.4.</strong> Rules</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/grammar_atoms.html"><strong aria-hidden="true">1.4.5.</strong> Atoms & Terms</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/grammar_literals.html"><strong aria-hidden="true">1.4.6.</strong> Literals</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/grammar_queries.html"><strong aria-hidden="true">1.4.7.</strong> Queries</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/grammar_pi.html"><strong aria-hidden="true">1.4.8.</strong> Processing Instructions</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/grammar_comments.html"><strong aria-hidden="true">1.4.9.</strong> Comments</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/grammar_lexical.html"><strong aria-hidden="true">1.4.10.</strong> Terminal/Lexical</a></li></ol></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/resolvers.html"><strong aria-hidden="true">1.5.</strong> Resolvers</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/pragmas.html"><strong aria-hidden="true">1.6.</strong> Pragmas</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/errors.html"><strong aria-hidden="true">1.7.</strong> Errors</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/x_security.html"><strong aria-hidden="true">1.8.</strong> Security Considerations</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/x_international.html"><strong aria-hidden="true">1.9.</strong> Internationalization Considerations</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/x_ebnf.html"><strong aria-hidden="true">1.10.</strong> Appendix: EBNF</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/x_result_forms.html"><strong aria-hidden="true">1.11.</strong> Appendix: Result Formats</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/x_iana.html"><strong aria-hidden="true">1.12.</strong> Appendix: IANA Considerations</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/x_references.html"><strong aria-hidden="true">1.13.</strong> Appendix: References</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/z_errata.html"><strong aria-hidden="true">2.</strong> Datalog Text Representation Errata</a></li><li class="chapter-item expanded "><a href="../vnd_datalog_text/z_translations.html"><strong aria-hidden="true">3.</strong> Datalog Text Representation Translations</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Datalog Specifications</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/johnstonskj/datalog-specs" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="conformance"><a class="header" href="#conformance">Conformance</a></h1>
<p>As well as sections marked as non-normative, all authoring guidelines, diagrams, examples, and notes in this specification are non-normative. Everything else in this specification is normative.</p>
<p>The keywords <em>MAY</em>, <em>MUST</em>, <em>MUST NOT</em>, <em>RECOMMENDED</em>, <em>SHOULD</em>, and <em>SHOULD NOT</em> in this document are to be interpreted as described in <a href="https://tools.ietf.org/html/bcp14">BCP 14</a> <span class="bibref inline"><a href="x_references.html#RFC2119">RFC2119</a></span> <span class="bibref inline"><a href="x_references.html#RFC8174">RFC8174</a></span> when, and only when, they appear in all capitals, as shown here.</p>
<p>A conforming DATALOG-TEXT <em>resource</em> is a Unicode string that MUST conform to the grammar and additional constraints defined in <a href="grammar.html">§ Datalog Text Grammar</a>, starting with the <code>program</code> production. </p>
<p>A conforming DATALOG-TEXT <em>parser</em> MUST ensure the resource it is provided is a conforming DATALOG-TEXT resource, signalling error conditions specified herein. Additionally, a conforming <em>resolver</em> MUST be able to convert paths to URIs <span class="bibref inline"><a href="x_references.html#RFC3986">RFC3986</a></span> and retrieve the identified resource on behalf of the parser.</p>
<h2 id="strict-vs-lax-processing"><a class="header" href="#strict-vs-lax-processing">Strict vs Lax Processing</a></h2>
<p>Two modes of operation for a conforming DATALOG-TEXT processor are described,
a <strong>strict</strong> processing mode that, while more verbose, relies less on
inference of a program’s semantics. For example, when strict processing is
enabled all relations both extensional and intensional MUST BE declared by
processing instructions. A <strong>lax</strong> processing mode allows more flexibility in
the source and is especially useful in dealing with Datalog written in
different dialects.</p>
<p>Strict processing support is RECOMMENDED, and may be enabled by the <a href="pragmas.html#pragma-strict"><code>strict</code> pragma</a>. Where behavior is required by strict processing it will be highlighted in the text. This specification does not define whether a conforming DATALOG-TEXT processor is required to be strict by default.</p>
<h2 id="media-type-and-content-encoding"><a class="header" href="#media-type-and-content-encoding">Media Type and Content Encoding</a></h2>
<p>The media type of DATALOG-TEXT resource is <code>application/vnd.datalog</code>. The content encoding of a DATALOG-TEXT document is always UTF-8. For complete details, see appendix <a href="x_iana.html">§ IANA Considerations</a>.</p>
<h3 id="features-parameter"><a class="header" href="#features-parameter"><code>features</code> Parameter</a></h3>
<p>This parameter is used to indicate the language features the resource requires. The list of supported feature identifiers is in <a href="#language-features">§ Language Features</a>.</p>
<p>The content of this parameter is a comma separated list of feature identifiers. This is used as a hint to a conforming DATALOG-TEXT processor to determine if they can process the resource. </p>
<p>While it is clearly of benefit for the set of features listed in this parameter to be <strong>exactly</strong> the same as the set of language pragmas used in the document it is impossible to guarantee. Therefore, processors MAY choose to proceed parsing the resource or signal an error if they find that these feature lists do not match. </p>
<h4 id="errors"><a class="header" href="#errors">Errors</a></h4>
<ul>
<li><a href="errors.html#ERR_UNSUPPORTED_FEATURE"><code>ERR_UNSUPPORTED_FEATURE</code></a> – a feature identifier was not recognized, or supported, by the processor, even if it may be valid in some other version of this specification.</li>
</ul>
<h4 id="example"><a class="header" href="#example">Example</a></h4>
<p>The media type <code>application/vnd.datalog;features=negation,constraints</code> denotes a document with the following feature pragmas.</p>
<pre><code class="language-datalog">.pragma negation.
.pragma constraints.
</code></pre>
<h3 id="dialect-parameter"><a class="header" href="#dialect-parameter"><code>dialect</code> Parameter</a></h3>
<p>This parameter is used to indicate the language dialect the resource conforms to. The list of supported dialect identifiers is in <a href="#dialect-identifiers">§ Dialect Identifiers</a>.</p>
<p>The content of this parameter is a single dialect identifier.</p>
<h4 id="errors-1"><a class="header" href="#errors-1">Errors</a></h4>
<ul>
<li><code>ERR_UNSUPPORTED_DIALECT</code> – a dialog identifier was not recognized, or supported, by the processor, even if it may be valid in some other version of this specification.</li>
</ul>
<h2 id="language-features"><a class="header" href="#language-features">Language Features</a></h2>
<p>As mentioned in the <a href="introduction.html">introduction</a> the language described by DATALOG-TEXT with no additional language features enabled is $\small\text{Datalog}^{\Gamma}$, the language $\small\text{Datalog}$ with typed relation attributes. All the language features defined in this specification MUST BE supported by a conforming DATALOG-TEXT processor. These features are: <code>arithmetic_literals</code>, <code>constraints</code>, <code>disjunction</code>, <code>extended_numerics</code>, <code>functional_dependencies</code>, and <code>negation</code>.</p>
<div class="table-wrapper"><table><thead><tr><th>Identifier</th><th>Source</th><th>Date</th></tr></thead><tbody>
<tr><td><code>arithmetic_literals</code></td><td>This specification</td><td>XX March 2022</td></tr>
<tr><td><code>constraints</code></td><td>This specification</td><td>XX March 2022</td></tr>
<tr><td><code>disjunction</code></td><td>This specification</td><td>XX March 2022</td></tr>
<tr><td><code>extended_numerics</code></td><td>This specification</td><td>XX March 2022</td></tr>
<tr><td><code>negation</code></td><td>This specification</td><td>XX March 2022</td></tr>
</tbody></table>
</div>
<p>This specification DOES NOT cover the behavior of a DATALOG-TEXT evaluator and
so support of these language features only ensures that a DATALOG-TEXT
resource can be parsed and validated, not that it can be evaluated. In the
case that an evaluator detects a language feature it cannot support it MUST
signal the error <a href="errors.html#ERR_UNSUPPORTED_FEATURE"><code>ERR_UNSUPPORTED_FEATURE</code></a>.</p>
<h2 id="dialect-identifiers"><a class="header" href="#dialect-identifiers">Dialect Identifiers</a></h2>
<p>The purpose of this parameter is to allow for the identification of Datalog
representations that are produced by applications that are not DATALOG-TEXT
conformant. These applications may use an alternate syntax for grammar
specified by DATALOG-TEXT, or they may extend the language with non-standard 
features. </p>
<div class="table-wrapper"><table><thead><tr><th>Identifier</th><th>Source</th><th>Date</th></tr></thead><tbody>
<tr><td><code>core</code> (default)</td><td>This specification</td><td>XX March 2022</td></tr>
<tr><td><code>mitre</code></td><td>MITRE Datalog <a href="http://datalog.sourceforge.net/">implementation</a></td><td>01 June 2016 (v2.6)</td></tr>
</tbody></table>
</div>
<h3 id="mitre-datalog"><a class="header" href="#mitre-datalog">MITRE Datalog</a></h3>
<p>This dialect only allows ASCII, Prolog style, operators; <code>:-</code> for material
implication, <code>,</code> for conjunction, and <code>!</code> for negation. The dialect does not
support the features <code>constraints</code>, <code>disjunction</code>, or <code>extended_numerics</code>.</p>
<p>The use of other syntaxed defined in this specification MUST signal the error
<a href="errors.html#ERR_UNSUPPORTED_SYNTAX"><code>ERR_UNSUPPORTED_SYNTAX</code></a>.</p>
<h3 id="example-1"><a class="header" href="#example-1">Example</a></h3>
<p>Note that the absence of the <code>dialect</code> parameter on the MIME type is the same
as using the value <code>core</code>. The following values are therefore equivalent.</p>
<pre><code class="language-text">application/vnd.datalog
application/vnd.datalog;dialect=core
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../vnd_datalog_text/introduction.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../vnd_datalog_text/basic_concepts.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../vnd_datalog_text/introduction.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../vnd_datalog_text/basic_concepts.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src="../datalog.js"></script>
        <script type="text/javascript" src="../specs.js"></script>
    </body>
</html>
